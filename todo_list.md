# 待完善事项

## 记忆优化

### 短期记忆 -> 长期记忆
目前将短期记忆持久化为长期记忆的条件：
1. 必须有最终答案 ：当 Agent 执行完成并生成了 final_answer 时才会触发
2. 至少2条历史消息 ：短期记忆中必须至少有 2 条对话记录
3. 低相似度 ：新的对话摘要与已存储的长期记忆相似度必须低于阈值（默认 0.7）
后续需要优化，不是所有的短期记忆得到结果后都需要持久化，而是根据实际情况判断是否需要持久化。

### 长期记忆命中率低
目前长期记忆的命中率不高，如何优化长期记忆的命中率

### memory参数
里面有一些参数写死在代码中，考虑后期写入常量或者配置文件